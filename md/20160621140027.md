# 整数的表示，关于原码，反码和补码的思考



整数分为`有符号整数`和`无符号整数`,其实就是通常意义下的`正整数`和`负整数`。

为了简单起见，这里的数字使用4位二进制表示，这样数的范围不会太大(这样我就不用列大大的表格啦)。



## 无符号整数 

无符号整数的表示比较简单，直接将其转换为二进制即可，如

| 数字   | 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 二进制  | 0000 | 0001 | 0010 | 0011 | 0100 | 0101 | 0110 | 0111 |

| 数字   | 8    | 9    | 10   | 11   | 12   | 13   | 14   | 15   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 二进制  | 1000 | 1001 | 1010 | 1011 | 1100 | 1101 | 1110 | 1111 |



## 有符号整数

#### 原码表示

原码通过分配一个最高位用于表示数字的正负，其余位数表示数值，相应值如下

| 数字   | 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 原码   | 0000 | 0001 | 0010 | 0011 | 0100 | 0101 | 0110 | 0111 |

| 数字   | -0   | -1   | -2   | -3   | -4   | -5   | -6   | -7   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 原码   | 1000 | 1001 | 1010 | 1011 | 1100 | 1101 | 1110 | 1111 |

虽然原码看起来比较简单，但是其存在2个0，更重要的是使用原码进行加法运算也不会得到正确的结果，不信你看

```
# 1 + (-1)
0001 + 1001 => 1010 => -2
# 1 + (-3)
0001 + 1011 => 1100 => -4
```



#### 反码表示

反码就是在原码的基础上，将正数各位取反获得负数反码，正数的反码就是它二进制值本身,如下表

| 数字   | 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 反码   | 0000 | 0001 | 0010 | 0011 | 0100 | 0101 | 0110 | 0111 |

| 数字   | -0   | -1   | -2   | -3   | -4   | -5   | -6   | -7   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 反码   | 1111 | 1110 | 1101 | 1100 | 1011 | 1010 | 1001 | 1000 |

反码解决原码中计算加法的时候数值不正确的问题,但是它还存在有2个0的问题

```
# 1 + (-1)
0001 + 1001 => 1010 => -2
# 1+ (-7)
0001 + 1000 => 1001 => -6
```



## 补码表示

补码在反码的基础＋1，其实就是 负整数(补码) ＝ 正整数(反码)＋1。 (注意丢弃溢出位)

或者说 负整数(补码) ＝ 正整数按位取反 ＋ 1, (注意丢弃溢出位)

| 数字   | 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 补码   | 0000 | 0001 | 0010 | 0011 | 0100 | 0101 | 0110 | 0111 |

| 数字   | -1   | -2   | -3   | -4   | -5   | -6   | -7   | -8   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 补码   | 1111 | 1110 | 1101 | 1100 | 1011 | 1010 | 1001 | 1000 |

补码解决了反码中有2个0的问题，成为最合适用来表示整数的表示方式

```
# 1 + (-1)
0001 + 1111 => 1,0000(丢弃溢出位) ＝> 0
# 1 + (-7)
0001 + 1001 => 1010 => -6
```



## 总结

无论原码，反码还是补码，他们在表示正整数的时候都是一样的，其不同之处在于负整数表示。

而顺着下来看，它们的出现其实就是针对用二进制表示有符号整数这一问题的解决方案的演进。只要了解了这一点，也就不会被它们的弄晕了。